<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>中医针灸经络穴位学习工具</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .header {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            text-align: center;
            padding: 15px 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: clamp(0.9rem, 2.5vw, 1.2rem);
            opacity: 0.9;
        }

        .main-container {
            display: flex;
            flex: 1;
            padding: 10px;
            gap: 10px;
            max-width: 100%;
            margin: 0 auto;
            width: 100%;
        }

        .sidebar {
            width: 320px;
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            height: fit-content;
            min-width: 280px;
        }

        .score-board {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
        }

        .score-board h3 {
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .score-stats {
            display: flex;
            justify-content: space-between;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            flex-wrap: wrap;
            gap: 5px;
        }

        .current-question {
            background: #f8f9ff;
            border: 2px solid #ff6b35;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: center;
        }

        .current-question h3 {
            color: #ff6b35;
            margin-bottom: 10px;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
        }

        .question-text {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            font-weight: bold;
            color: #333;
            padding: 8px;
            background: white;
            border-radius: 8px;
            border: 2px dashed #ff6b35;
            word-break: keep-all;
        }

        .feedback {
            margin-top: 10px;
            padding: 8px;
            border-radius: 8px;
            font-weight: bold;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(0.8rem, 2vw, 1rem);
            text-align: center;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            transition: width 0.3s ease;
        }

        .body-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            padding: 10px;
            position: relative;
            min-height: 500px;
        }

        .human-body {
            position: relative;
            width: 100%;
            height: 100%;
            max-width: 600px;
            max-height: 800px;
            aspect-ratio: 3/4;
            cursor: crosshair;
            margin: 0 auto;
        }

        .human-figure {
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 800"><defs><linearGradient id="skinGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23fde4d0;stop-opacity:1" /><stop offset="30%" style="stop-color:%23f5d5ae;stop-opacity:1" /><stop offset="70%" style="stop-color:%23edc9a3;stop-opacity:1" /><stop offset="100%" style="stop-color:%23d4a574;stop-opacity:1" /></linearGradient><linearGradient id="shadowGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23c8a882;stop-opacity:0.6" /><stop offset="100%" style="stop-color:%23b8956f;stop-opacity:0.8" /></linearGradient><linearGradient id="muscleShadow" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23b8956f;stop-opacity:0.4" /><stop offset="100%" style="stop-color:%23a08660;stop-opacity:0.6" /></linearGradient><linearGradient id="deepShadow" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23956f47;stop-opacity:0.5" /><stop offset="100%" style="stop-color:%23805b3e;stop-opacity:0.7" /></linearGradient><filter id="drop-shadow" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="3" dy="3" stdDeviation="3" flood-opacity="0.4" flood-color="%23a08660"/></filter><filter id="soft-shadow" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.3" flood-color="%23c8a882"/></filter><filter id="inner-shadow" x="-50%" y="-50%" width="200%" height="200%"><feOffset in="SourceAlpha" dx="1" dy="1"/><feGaussianBlur stdDeviation="1" result="offset-blur"/><feFlood flood-color="%23956f47" flood-opacity="0.3"/><feComposite in2="offset-blur" operator="in"/><feComposite in2="SourceAlpha" operator="over" result="shadow"/><feComposite in="SourceGraphic" in2="shadow" operator="over"/></filter></defs><!-- 头部详细结构 --><ellipse cx="300" cy="90" rx="48" ry="52" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 头发线条 --><path d="M252 65 C265 45 335 45 348 65 C352 70 348 75 340 80 C320 70 280 70 260 80 C252 75 248 70 252 65" fill="%23654321" opacity="0.6"/><!-- 面部轮廓阴影 --><ellipse cx="300" cy="88" rx="38" ry="42" fill="none" stroke="url(%23shadowGrad)" stroke-width="1.5" opacity="0.4"/><!-- 眼部结构 --><ellipse cx="285" cy="85" rx="6" ry="3" fill="url(%23deepShadow)" opacity="0.6"/><ellipse cx="315" cy="85" rx="6" ry="3" fill="url(%23deepShadow)" opacity="0.6"/><!-- 鼻部立体感 --><path d="M300 88 L298 98 L302 98 Z" fill="url(%23shadowGrad)" opacity="0.4"/><line x1="300" y1="90" x2="300" y2="96" stroke="url(%23deepShadow)" stroke-width="0.8" opacity="0.5"/><!-- 嘴部结构 --><ellipse cx="300" cy="102" rx="8" ry="2" fill="url(%23deepShadow)" opacity="0.5"/><!-- 颧骨突出 --><ellipse cx="270" cy="90" rx="4" ry="8" fill="url(%23muscleShadow)" opacity="0.3"/><ellipse cx="330" cy="90" rx="4" ry="8" fill="url(%23muscleShadow)" opacity="0.3"/><!-- 下颌线条 --><path d="M275 110 Q300 118 325 110" stroke="url(%23shadowGrad)" stroke-width="1" fill="none" opacity="0.4"/><!-- 颈部细节 --><rect x="288" y="130" width="24" height="38" rx="12" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><!-- 喉结和气管 --><ellipse cx="300" cy="140" rx="10" ry="5" fill="url(%23shadowGrad)" opacity="0.5"/><!-- 颈部肌肉 --><path d="M285 135 Q300 138 315 135" stroke="url(%23muscleShadow)" stroke-width="1.5" fill="none" opacity="0.4"/><!-- 锁骨结构 --><path d="M240 165 Q270 155 300 160 Q330 155 360 165" stroke="url(%23shadowGrad)" stroke-width="2" fill="none" opacity="0.6"/><!-- 胸部立体结构 --><ellipse cx="300" cy="220" rx="78" ry="92" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 胸肌细节 --><ellipse cx="275" cy="200" rx="28" ry="38" fill="none" stroke="url(%23muscleShadow)" stroke-width="2" opacity="0.6"/><ellipse cx="325" cy="200" rx="28" ry="38" fill="none" stroke="url(%23muscleShadow)" stroke-width="2" opacity="0.6"/><!-- 胸肌内侧阴影 --><ellipse cx="275" cy="200" rx="20" ry="30" fill="url(%23deepShadow)" opacity="0.2"/><ellipse cx="325" cy="200" rx="20" ry="30" fill="url(%23deepShadow)" opacity="0.2"/><!-- 乳头位置 --><circle cx="275" cy="195" r="3" fill="url(%23deepShadow)" opacity="0.6"/><circle cx="325" cy="195" r="3" fill="url(%23deepShadow)" opacity="0.6"/><!-- 肋骨轮廓线 --><path d="M240 190 Q300 185 360 190" stroke="url(%23muscleShadow)" stroke-width="1" fill="none" opacity="0.4"/><path d="M245 210 Q300 205 355 210" stroke="url(%23muscleShadow)" stroke-width="1" fill="none" opacity="0.4"/><path d="M250 230 Q300 225 350 230" stroke="url(%23muscleShadow)" stroke-width="1" fill="none" opacity="0.4"/><!-- 腹部精细结构 --><ellipse cx="300" cy="320" rx="65" ry="85" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 腹直肌中线 --><line x1="300" y1="260" x2="300" y2="390" stroke="url(%23shadowGrad)" stroke-width="2.5" opacity="0.7"/><!-- 六块腹肌详细绘制 --><ellipse cx="285" cy="275" rx="15" ry="12" fill="url(%23muscleShadow)" opacity="0.4" filter="url(%23inner-shadow)"/><ellipse cx="315" cy="275" rx="15" ry="12" fill="url(%23muscleShadow)" opacity="0.4" filter="url(%23inner-shadow)"/><ellipse cx="285" cy="300" rx="15" ry="12" fill="url(%23muscleShadow)" opacity="0.4" filter="url(%23inner-shadow)"/><ellipse cx="315" cy="300" rx="15" ry="12" fill="url(%23muscleShadow)" opacity="0.4" filter="url(%23inner-shadow)"/><ellipse cx="285" cy="325" rx="15" ry="12" fill="url(%23muscleShadow)" opacity="0.4" filter="url(%23inner-shadow)"/><ellipse cx="315" cy="325" rx="15" ry="12" fill="url(%23muscleShadow)" opacity="0.4" filter="url(%23inner-shadow)"/><!-- 腹外斜肌线条 --><path d="M265 280 Q280 290 275 310" stroke="url(%23shadowGrad)" stroke-width="1.5" fill="none" opacity="0.5"/><path d="M335 280 Q320 290 325 310" stroke="url(%23shadowGrad)" stroke-width="1.5" fill="none" opacity="0.5"/><!-- 腰部收缩和髂骨 --><ellipse cx="300" cy="380" rx="52" ry="28" fill="url(%23skinGrad)"/><!-- 髂前上棘标记 --><circle cx="270" cy="390" r="4" fill="url(%23shadowGrad)" opacity="0.5"/><circle cx="330" cy="390" r="4" fill="url(%23shadowGrad)" opacity="0.5"/><!-- 臀部和骨盆详细 --><ellipse cx="300" cy="420" rx="68" ry="48" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 臀肌轮廓 --><ellipse cx="275" cy="425" rx="25" ry="35" fill="none" stroke="url(%23muscleShadow)" stroke-width="1.5" opacity="0.5"/><ellipse cx="325" cy="425" rx="25" ry="35" fill="none" stroke="url(%23muscleShadow)" stroke-width="1.5" opacity="0.5"/><!-- 左肩详细结构 --><circle cx="220" cy="180" r="28" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 三角肌前中后束 --><path d="M200 165 Q220 160 240 165" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><path d="M195 180 Q220 175 245 180" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><path d="M200 195 Q220 190 240 195" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><!-- 左上臂精细化 --><ellipse cx="185" cy="235" rx="25" ry="58" fill="url(%23skinGrad)" transform="rotate(-25 185 235)" filter="url(%23drop-shadow)"/><!-- 肱二头肌和肱三头肌 --><ellipse cx="185" cy="235" rx="20" ry="48" fill="none" stroke="url(%23muscleShadow)" stroke-width="2" opacity="0.6" transform="rotate(-25 185 235)"/><!-- 上臂内侧阴影 --><ellipse cx="185" cy="235" rx="12" ry="40" fill="url(%23deepShadow)" opacity="0.3" transform="rotate(-25 185 235)"/><!-- 左肘关节复杂结构 --><circle cx="165" cy="285" r="18" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><!-- 肘部骨性标志 --><circle cx="165" cy="285" r="12" fill="none" stroke="url(%23shadowGrad)" stroke-width="1.5" opacity="0.5"/><!-- 左前臂肌肉群 --><ellipse cx="150" cy="345" rx="22" ry="55" fill="url(%23skinGrad)" transform="rotate(-35 150 345)" filter="url(%23drop-shadow)"/><!-- 前臂屈肌群和伸肌群 --><ellipse cx="150" cy="345" rx="18" ry="45" fill="none" stroke="url(%23muscleShadow)" stroke-width="1.5" opacity="0.5" transform="rotate(-35 150 345)"/><!-- 前臂骨间线 --><line x1="145" y1="310" x2="140" y2="380" stroke="url(%23shadowGrad)" stroke-width="1" opacity="0.4" transform="rotate(-35 150 345)"/><!-- 左手腕和手部 --><ellipse cx="135" cy="395" rx="12" ry="10" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><!-- 手掌和手指轮廓 --><ellipse cx="125" cy="415" rx="18" ry="28" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 手指关节线 --><line x1="120" y1="405" x2="130" y2="405" stroke="url(%23shadowGrad)" stroke-width="0.8" opacity="0.4"/><!-- 右侧对称结构（镜像） --><circle cx="380" cy="180" r="28" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 右三角肌 --><path d="M360 165 Q380 160 400 165" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><path d="M355 180 Q380 175 405 180" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><path d="M360 195 Q380 190 400 195" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><!-- 右上臂 --><ellipse cx="415" cy="235" rx="25" ry="58" fill="url(%23skinGrad)" transform="rotate(25 415 235)" filter="url(%23drop-shadow)"/><ellipse cx="415" cy="235" rx="20" ry="48" fill="none" stroke="url(%23muscleShadow)" stroke-width="2" opacity="0.6" transform="rotate(25 415 235)"/><ellipse cx="415" cy="235" rx="12" ry="40" fill="url(%23deepShadow)" opacity="0.3" transform="rotate(25 415 235)"/><!-- 右肘 --><circle cx="435" cy="285" r="18" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><circle cx="435" cy="285" r="12" fill="none" stroke="url(%23shadowGrad)" stroke-width="1.5" opacity="0.5"/><!-- 右前臂 --><ellipse cx="450" cy="345" rx="22" ry="55" fill="url(%23skinGrad)" transform="rotate(35 450 345)" filter="url(%23drop-shadow)"/><ellipse cx="450" cy="345" rx="18" ry="45" fill="none" stroke="url(%23muscleShadow)" stroke-width="1.5" opacity="0.5" transform="rotate(35 450 345)"/><line x1="455" y1="310" x2="460" y2="380" stroke="url(%23shadowGrad)" stroke-width="1" opacity="0.4" transform="rotate(35 450 345)"/><!-- 右手腕和手 --><ellipse cx="465" cy="395" rx="12" ry="10" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><ellipse cx="475" cy="415" rx="18" ry="28" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><line x1="470" y1="405" x2="480" y2="405" stroke="url(%23shadowGrad)" stroke-width="0.8" opacity="0.4"/><!-- 左大腿股四头肌群 --><ellipse cx="270" cy="520" rx="32" ry="78" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 股四头肌的四个头 --><ellipse cx="270" cy="520" rx="28" ry="68" fill="none" stroke="url(%23muscleShadow)" stroke-width="2" opacity="0.6"/><!-- 大腿内侧肌群 --><ellipse cx="280" cy="520" rx="15" ry="60" fill="url(%23deepShadow)" opacity="0.3"/><!-- 股骨轮廓 --><line x1="270" y1="460" x2="270" y2="580" stroke="url(%23shadowGrad)" stroke-width="1.5" opacity="0.5"/><!-- 左膝盖详细结构 --><circle cx="265" cy="590" r="20" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><!-- 髌骨和韧带 --><ellipse cx="265" cy="590" rx="15" ry="18" fill="none" stroke="url(%23shadowGrad)" stroke-width="2" opacity="0.6"/><!-- 左小腿肌肉群 --><ellipse cx="260" cy="670" rx="25" ry="72" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 腓肠肌和胫骨前肌 --><ellipse cx="260" cy="670" rx="20" ry="62" fill="none" stroke="url(%23muscleShadow)" stroke-width="1.8" opacity="0.6"/><!-- 小腿骨间膜 --><line x1="260" y1="620" x2="260" y2="720" stroke="url(%23shadowGrad)" stroke-width="1.2" opacity="0.5"/><!-- 跟腱轮廓 --><path d="M255 720 Q260 735 255 745" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><!-- 左踝关节 --><circle cx="255" cy="735" r="14" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><!-- 踝骨标记 --><circle cx="250" cy="735" r="4" fill="url(%23shadowGrad)" opacity="0.6"/><circle cx="260" cy="735" r="4" fill="url(%23shadowGrad)" opacity="0.6"/><!-- 左脚详细结构 --><ellipse cx="248" cy="765" rx="20" ry="32" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><!-- 足弓 --><path d="M235 770 Q248 765 260 770" stroke="url(%23shadowGrad)" stroke-width="1.5" fill="none" opacity="0.5"/><!-- 右侧腿部对称结构 --><ellipse cx="330" cy="520" rx="32" ry="78" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><ellipse cx="330" cy="520" rx="28" ry="68" fill="none" stroke="url(%23muscleShadow)" stroke-width="2" opacity="0.6"/><ellipse cx="320" cy="520" rx="15" ry="60" fill="url(%23deepShadow)" opacity="0.3"/><line x1="330" y1="460" x2="330" y2="580" stroke="url(%23shadowGrad)" stroke-width="1.5" opacity="0.5"/><!-- 右膝盖 --><circle cx="335" cy="590" r="20" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><ellipse cx="335" cy="590" rx="15" ry="18" fill="none" stroke="url(%23shadowGrad)" stroke-width="2" opacity="0.6"/><!-- 右小腿 --><ellipse cx="340" cy="670" rx="25" ry="72" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><ellipse cx="340" cy="670" rx="20" ry="62" fill="none" stroke="url(%23muscleShadow)" stroke-width="1.8" opacity="0.6"/><line x1="340" y1="620" x2="340" y2="720" stroke="url(%23shadowGrad)" stroke-width="1.2" opacity="0.5"/><path d="M345 720 Q340 735 345 745" stroke="url(%23muscleShadow)" stroke-width="2" fill="none" opacity="0.6"/><!-- 右踝关节 --><circle cx="345" cy="735" r="14" fill="url(%23skinGrad)" filter="url(%23soft-shadow)"/><circle cx="350" cy="735" r="4" fill="url(%23shadowGrad)" opacity="0.6"/><circle cx="340" cy="735" r="4" fill="url(%23shadowGrad)" opacity="0.6"/><!-- 右脚 --><ellipse cx="352" cy="765" rx="20" ry="32" fill="url(%23skinGrad)" filter="url(%23drop-shadow)"/><path d="M365 770 Q352 765 340 770" stroke="url(%23shadowGrad)" stroke-width="1.5" fill="none" opacity="0.5"/><!-- 主要关节突出标记 --><circle cx="220" cy="180" r="15" fill="url(%23shadowGrad)" opacity="0.5"/><!-- 左肩关节 --><circle cx="380" cy="180" r="15" fill="url(%23shadowGrad)" opacity="0.5"/><!-- 右肩关节 --><circle cx="270" cy="460" r="12" fill="url(%23shadowGrad)" opacity="0.5"/><!-- 左髋关节 --><circle cx="330" cy="460" r="12" fill="url(%23shadowGrad)" opacity="0.5"/><!-- 右髋关节 --></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .acupoint {
            position: absolute;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: radial-gradient(circle, #ff4757 0%, #c44569 100%);
            border: 3px solid rgba(255, 255, 255, 0.9);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(255, 71, 87, 0.6), inset 0 2px 4px rgba(255, 255, 255, 0.4);
            z-index: 10;
            transform: translate(-50%, -50%);
        }

        .acupoint:hover, .acupoint:active {
            transform: translate(-50%, -50%) scale(1.5);
            background: radial-gradient(circle, #ffa502 0%, #ff6348 100%);
            box-shadow: 0 6px 20px rgba(255, 165, 2, 0.8), inset 0 3px 6px rgba(255, 255, 255, 0.5);
            border-color: #fff;
        }

        .acupoint.highlight {
            animation: pulse 1.5s infinite;
            background: radial-gradient(circle, #ffa502 0%, #ff7675 100%);
            border-color: #fdcb6e;
            box-shadow: 0 6px 25px rgba(255, 165, 2, 0.9);
        }

        @keyframes pulse {
            0% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 6px 25px rgba(255, 165, 2, 0.9);
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.8); 
                box-shadow: 0 10px 40px rgba(255, 165, 2, 1);
            }
            100% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 6px 25px rgba(255, 165, 2, 0.9);
            }
        }

        .controls {
            text-align: center;
            margin-top: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 20px;
            cursor: pointer;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
            touch-action: manipulation;
            flex: 1;
            min-width: 80px;
            max-width: 120px;
        }

        .btn:hover, .btn:active {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
        }

        .meridian-info {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f4fd 100%);
            border-radius: 10px;
            padding: 12px;
            margin-top: 15px;
            border-left: 4px solid #ff6b35;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .meridian-info h4 {
            color: #ff6b35;
            margin-bottom: 8px;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
        }

        .meridian-info p {
            font-size: clamp(0.8rem, 2vw, 1rem);
            line-height: 1.4;
        }

        .achievement {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 1000;
            display: none;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
        }

        .achievement.show {
            display: block;
            animation: achievementPop 0.6s ease;
        }

        @keyframes achievementPop {
            0% { transform: translate(-50%, -50%) scale(0.7); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .acupoint-label {
            position: absolute;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 20;
            white-space: nowrap;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            transform: translate(-50%, -100%);
            margin-top: -5px;
        }

        .acupoint:hover + .acupoint-label,
        .acupoint.highlight + .acupoint-label {
            opacity: 1;
        }

        .meridian-legend {
            background: #f0f2f5;
            border-radius: 10px;
            padding: 12px;
            margin-top: 15px;
        }

        .meridian-legend h5 {
            color: #333;
            margin-bottom: 8px;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
        }

        .meridian-item {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
            padding: 4px;
            border-radius: 4px;
            background: white;
            font-size: clamp(0.7rem, 1.8vw, 0.9rem);
        }

        .meridian-color {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 6px;
            flex-shrink: 0;
        }

        /* 移动端专用样式 */
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
                padding: 8px;
                gap: 8px;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
                padding: 12px;
            }
            
            .body-container {
                order: 1;
                min-height: 60vh;
                padding: 8px;
            }
            
            .human-body {
                max-width: 100%;
                max-height: 70vh;
            }
            
            .acupoint {
                width: 16px;
                height: 16px;
                border-width: 2px;
            }
            
            .acupoint:hover, .acupoint:active {
                transform: translate(-50%, -50%) scale(1.8);
            }
            
            .controls {
                margin-top: 10px;
                gap: 6px;
            }
            
            .btn {
                padding: 8px 12px;
                min-width: 70px;
                font-size: 0.9rem;
            }
            
            .score-stats {
                justify-content: space-around;
                font-size: 0.9rem;
            }
            
            .meridian-legend {
                padding: 8px;
            }
            
            .meridian-item {
                padding: 3px;
                margin-bottom: 4px;
            }
        }

        /* 超小屏幕优化 */
        @media (max-width: 480px) {
            .header {
                padding: 10px 5px;
            }
            
            .main-container {
                padding: 5px;
            }
            
            .sidebar {
                padding: 10px;
            }
            
            .current-question {
                padding: 12px;
            }
            
            .acupoint {
                width: 18px;
                height: 18px;
            }
            
            .achievement {
                padding: 20px;
                margin: 10px;
            }
        }

        /* 横屏模式优化 */
        @media (max-width: 1024px) and (orientation: landscape) {
            .main-container {
                flex-direction: row;
            }
            
            .sidebar {
                width: 300px;
                order: 1;
            }
            
            .body-container {
                order: 2;
                min-height: 70vh;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🏥 中医针灸经络穴位学习工具</h1>
        <p>弘扬中医经络传统文化，科学学习人体穴位知识</p>
    </div>

    <div class="main-container">
        <div class="sidebar">
            <div class="score-board">
                <h3>📊 学习进度</h3>
                <div class="score-stats">
                    <span>正确: <span id="correct">0</span></span>
                    <span>错误: <span id="incorrect">0</span></span>
                    <span>正确率: <span id="accuracy">0%</span></span>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>

            <div class="current-question">
                <h3>🎯 请找到以下穴位：</h3>
                <div class="question-text" id="currentAcupoint">点击开始学习</div>
                <div class="feedback" id="feedback"></div>
            </div>

            <div class="meridian-info">
                <h4>📚 穴位详情</h4>
                <p id="meridianInfo">选择穴位后显示相关经络信息</p>
            </div>

            <div class="meridian-legend">
                <h5>🌟 主要经络</h5>
                <div class="meridian-item">
                    <div class="meridian-color" style="background: #ff6b35;"></div>
                    <span>任脉 - 前正中线</span>
                </div>
                <div class="meridian-item">
                    <div class="meridian-color" style="background: #4834d4;"></div>
                    <span>督脉 - 后正中线</span>
                </div>
                <div class="meridian-item">
                    <div class="meridian-color" style="background: #27ae60;"></div>
                    <span>胃经 - 消化系统</span>
                </div>
                <div class="meridian-item">
                    <div class="meridian-color" style="background: #e74c3c;"></div>
                    <span>肝经 - 疏泄调节</span>
                </div>
            </div>

            <div class="controls">
                <button class="btn" onclick="startLearning()">🚀 开始</button>
                <button class="btn" onclick="nextQuestion()">➡️ 下一题</button>
                <button class="btn" onclick="resetGame()">🔄 重置</button>
            </div>
        </div>

        <div class="body-container">
            <div class="human-body" id="humanBody">
                <div class="human-figure"></div>
                <!-- 穴位点将通过JavaScript动态生成 -->
            </div>
        </div>
    </div>

    <div class="achievement" id="achievement">
        <h2>🎉 恭喜完成学习！</h2>
        <p id="achievementText">您已完成所有穴位学习！</p>
        <button class="btn" onclick="closeAchievement()">继续练习</button>
    </div>

    <script>
        // 根据上传图片精确标注的穴位数据（使用百分比坐标确保响应式）
        const acupoints = [
            // 头面部穴位 (基于SVG viewBox 600x800 的百分比坐标)
            { name: "百会", x: 50, y: 7.5, meridian: "督脉", description: "位于头顶正中，百脉交汇处，具有升阳益气、醒脑开窍的功效" },
            { name: "印堂", x: 50, y: 10, meridian: "督脉", description: "位于两眉头连线中点，具有宁心安神、清头明目的作用" },
            { name: "太阳", x: 54.2, y: 10.6, meridian: "经外奇穴", description: "位于眉梢与目外眦连线中点外一横指处，主治头痛目疾" },
            { name: "风池", x: 52.5, y: 11.9, meridian: "胆经", description: "位于后发际线上，胸锁乳突肌外缘凹陷中，祛风解表" },
            { name: "迎香", x: 48.3, y: 11.9, meridian: "大肠经", description: "位于鼻翼外缘中点旁开约0.5寸，通鼻窍" },
            { name: "人中", x: 50, y: 12.5, meridian: "督脉", description: "位于鼻唇沟上1/3与下2/3交界处，醒神开窍" },
            { name: "承浆", x: 50, y: 14.4, meridian: "任脉", description: "位于下唇下方凹陷中，清热泻火" },
            
            // 颈胸部穴位
            { name: "天突", x: 50, y: 18.1, meridian: "任脉", description: "位于胸骨上窝正中，理气化痰" },
            { name: "大椎", x: 50, y: 19.4, meridian: "督脉", description: "位于第7颈椎棘突下凹陷中，解表清热" },
            { name: "膻中", x: 50, y: 25, meridian: "任脉", description: "位于两乳头连线中点，宽胸理气，为气会穴" },
            { name: "中府", x: 43.3, y: 23.1, meridian: "肺经", description: "位于胸外侧部，云门穴下1寸，宣肺理气" },
            
            // 腹部穴位
            { name: "中脘", x: 50, y: 35, meridian: "任脉", description: "位于上腹部，脐上4寸，健脾和胃，为胃之募穴" },
            { name: "神阙", x: 50, y: 40, meridian: "任脉", description: "即肚脐，位于腹中部，温阳益气，回阳救逆" },
            { name: "气海", x: 50, y: 42.5, meridian: "任脉", description: "位于下腹部，脐下1.5寸，补益元气" },
            { name: "关元", x: 50, y: 45, meridian: "任脉", description: "位于下腹部，脐下3寸，固本培元，为元气之海" },
            
            // 左侧手臂穴位
            { name: "肩井", x: 36.7, y: 22.5, meridian: "胆经", description: "位于肩上，大椎与肩峰连线中点，通经活络" },
            { name: "肩髃", x: 34.2, y: 23.1, meridian: "大肠经", description: "位于肩部，三角肌上方凹陷中，疏风通络" },
            { name: "曲池", x: 28.3, y: 35, meridian: "大肠经", description: "位于肘横纹外侧端，清热解表，调和气血" },
            { name: "手三里", x: 26.7, y: 38.8, meridian: "大肠经", description: "位于前臂，曲池下2寸，通经活络" },
            { name: "合谷", x: 22.5, y: 50.6, meridian: "大肠经", description: "位于手背，第1、2掌骨间，镇痛解表，为四总穴之一" },
            
            // 右侧手臂穴位
            { name: "肩井", x: 63.3, y: 22.5, meridian: "胆经", description: "位于肩上，大椎与肩峰连线中点，通经活络" },
            { name: "肩髃", x: 65.8, y: 23.1, meridian: "大肠经", description: "位于肩部，三角肌上方凹陷中，疏风通络" },
            { name: "曲池", x: 71.7, y: 35, meridian: "大肠经", description: "位于肘横纹外侧端，清热解表，调和气血" },
            { name: "手三里", x: 73.3, y: 38.8, meridian: "大肠经", description: "位于前臂，曲池下2寸，通经活络" },
            { name: "合谷", x: 77.5, y: 50.6, meridian: "大肠经", description: "位于手背，第1、2掌骨间，镇痛解表，为四总穴之一" },
            
            // 左侧腿部穴位
            { name: "环跳", x: 41.7, y: 53.8, meridian: "胆经", description: "位于臀部，股骨大转子后上方，强腰健腿" },
            { name: "风市", x: 43.3, y: 60, meridian: "胆经", description: "位于大腿外侧，膝上7寸，祛风湿" },
            { name: "血海", x: 46.7, y: 63.8, meridian: "脾经", description: "位于大腿内侧，膝盖骨上方，调血活血" },
            { name: "梁丘", x: 45, y: 68.8, meridian: "胃经", description: "位于大腿前面，膝盖骨外上方，和胃止痛" },
            { name: "足三里", x: 45.8, y: 77.5, meridian: "胃经", description: "位于小腿前外侧，犊鼻下3寸，强身健体，为四总穴之一" },
            { name: "阳陵泉", x: 42.5, y: 73.8, meridian: "胆经", description: "位于小腿外侧，腓骨头前下方凹陷中，舒筋活络" },
            { name: "三阴交", x: 47.5, y: 82.5, meridian: "脾经", description: "位于小腿内侧，内踝尖上3寸，调理脾胃肝肾" },
            { name: "太冲", x: 43.3, y: 92.5, meridian: "肝经", description: "位于足背，第1、2跖骨间，疏肝理气，为四总穴之一" },
            { name: "涌泉", x: 41.7, y: 96.3, meridian: "肾经", description: "位于足底前部凹陷中，滋阴补肾，为井穴" },
            
            // 右侧腿部穴位
            { name: "环跳", x: 58.3, y: 53.8, meridian: "胆经", description: "位于臀部，股骨大转子后上方，强腰健腿" },
            { name: "风市", x: 56.7, y: 60, meridian: "胆经", description: "位于大腿外侧，膝上7寸，祛风湿" },
            { name: "血海", x: 53.3, y: 63.8, meridian: "脾经", description: "位于大腿内侧，膝盖骨上方，调血活血" },
            { name: "梁丘", x: 55, y: 68.8, meridian: "胃经", description: "位于大腿前面，膝盖骨外上方，和胃止痛" },
            { name: "足三里", x: 54.2, y: 77.5, meridian: "胃经", description: "位于小腿前外侧，犊鼻下3寸，强身健体，为四总穴之一" },
            { name: "阳陵泉", x: 57.5, y: 73.8, meridian: "胆经", description: "位于小腿外侧，腓骨头前下方凹陷中，舒筋活络" },
            { name: "三阴交", x: 52.5, y: 82.5, meridian: "脾经", description: "位于小腿内侧，内踝尖上3寸，调理脾胃肝肾" },
            { name: "太冲", x: 56.7, y: 92.5, meridian: "肝经", description: "位于足背，第1、2跖骨间，疏肝理气，为四总穴之一" },
            { name: "涌泉", x: 58.3, y: 96.3, meridian: "肾经", description: "位于足底前部凹陷中，滋阴补肾，为井穴" }
        ];

        let currentIndex = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let gameStarted = false;
        let currentAcupoint = null;
        let shuffledAcupoints = [];

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function getResponsivePosition(percentage, dimension) {
            const humanBody = document.getElementById('humanBody');
            const rect = humanBody.getBoundingClientRect();
            return dimension === 'x' ? (percentage / 100) * rect.width : (percentage / 100) * rect.height;
        }

        function initializeGame() {
            const humanBody = document.getElementById('humanBody');
            
            // 清除现有穴位
            const existingAcupoints = humanBody.querySelectorAll('.acupoint, .acupoint-label');
            existingAcupoints.forEach(el => el.remove());
            
            // 创建穴位点和标签
            acupoints.forEach((point, index) => {
                const acupointElement = document.createElement('div');
                acupointElement.className = 'acupoint';
                
                // 使用百分比定位确保响应式
                acupointElement.style.left = point.x + '%';
                acupointElement.style.top = point.y + '%';
                
                acupointElement.setAttribute('data-index', index);
                acupointElement.addEventListener('click', handleAcupointClick);
                acupointElement.addEventListener('touchstart', handleAcupointClick, { passive: true });
                
                // 创建标签
                const labelElement = document.createElement('div');
                labelElement.className = 'acupoint-label';
                labelElement.textContent = point.name;
                labelElement.style.left = point.x + '%';
                labelElement.style.top = point.y + '%';
                
                humanBody.appendChild(acupointElement);
                humanBody.appendChild(labelElement);
            });
        }

        function startLearning() {
            gameStarted = true;
            currentIndex = 0;
            correctCount = 0;
            incorrectCount = 0;
            shuffledAcupoints = shuffleArray(acupoints);
            updateScore();
            nextQuestion();
        }

        function nextQuestion() {
            if (!gameStarted) {
                startLearning();
                return;
            }

            if (currentIndex >= shuffledAcupoints.length) {
                showAchievement();
                return;
            }

            currentAcupoint = shuffledAcupoints[currentIndex];
            document.getElementById('currentAcupoint').textContent = currentAcupoint.name;
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            
            // 清除之前的高亮
            const acupointElements = document.querySelectorAll('.acupoint');
            acupointElements.forEach(el => el.classList.remove('highlight'));
            
            updateProgress();
        }

        function handleAcupointClick(event) {
            event.preventDefault();
            event.stopPropagation();
            
            if (!gameStarted || !currentAcupoint) return;

            const clickedIndex = parseInt(event.target.getAttribute('data-index'));
            const clickedPoint = acupoints[clickedIndex];
            const feedbackElement = document.getElementById('feedback');

            if (clickedPoint.name === currentAcupoint.name) {
                // 正确答案
                correctCount++;
                feedbackElement.textContent = `✅ 正确！${currentAcupoint.name}属于${currentAcupoint.meridian}`;
                feedbackElement.className = 'feedback correct';
                event.target.classList.add('highlight');
                
                // 显示经络信息
                document.getElementById('meridianInfo').innerHTML = 
                    `<strong style="color: #ff6b35; font-size: 1.1em;">${currentAcupoint.name}</strong><br>
                     <strong>所属经络：</strong>${currentAcupoint.meridian}<br>
                     <strong>主要功效：</strong>${currentAcupoint.description}`;
                
                setTimeout(() => {
                    currentIndex++;
                    nextQuestion();
                }, 2500);
            } else {
                // 错误答案
                incorrectCount++;
                feedbackElement.innerHTML = `❌ 错误！您点击的是<strong>${clickedPoint.name}</strong><br>正确答案是<strong>${currentAcupoint.name}</strong>`;
                feedbackElement.className = 'feedback incorrect';
                
                // 高亮正确答案
                const correctIndex = acupoints.findIndex(point => point.name === currentAcupoint.name);
                const correctElement = document.querySelector(`[data-index="${correctIndex}"]`);
                if (correctElement) {
                    correctElement.classList.add('highlight');
                }
                
                // 显示正确答案信息
                document.getElementById('meridianInfo').innerHTML = 
                    `<strong style="color: #e74c3c; font-size: 1.1em;">正确答案：${currentAcupoint.name}</strong><br>
                     <strong>所属经络：</strong>${currentAcupoint.meridian}<br>
                     <strong>主要功效：</strong>${currentAcupoint.description}`;
                
                setTimeout(() => {
                    currentIndex++;
                    nextQuestion();
                }, 3500);
            }

            updateScore();
        }

        function updateScore() {
            document.getElementById('correct').textContent = correctCount;
            document.getElementById('incorrect').textContent = incorrectCount;
            const total = correctCount + incorrectCount;
            const accuracy = total > 0 ? Math.round((correctCount / total) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        function updateProgress() {
            const progress = (currentIndex / shuffledAcupoints.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function resetGame() {
            gameStarted = false;
            currentIndex = 0;
            correctCount = 0;
            incorrectCount = 0;
            currentAcupoint = null;
            shuffledAcupoints = [];
            
            document.getElementById('currentAcupoint').textContent = '点击开始学习';
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('meridianInfo').innerHTML = '选择穴位后显示相关经络信息<br><small>本工具包含人体主要穴位，涵盖头面部、胸腹部、四肢等重要部位</small>';
            
            // 清除高亮
            const acupointElements = document.querySelectorAll('.acupoint');
            acupointElements.forEach(el => el.classList.remove('highlight'));
            
            updateScore();
            updateProgress();
        }

        function showAchievement() {
            const achievement = document.getElementById('achievement');
            const achievementText = document.getElementById('achievementText');
            const total = correctCount + incorrectCount;
            const accuracy = Math.round((correctCount / total) * 100);
            
            let grade = '';
            let emoji = '';
            if (accuracy >= 90) {
                grade = '优秀！您对穴位掌握很好！';
                emoji = '🏆';
            } else if (accuracy >= 80) {
                grade = '良好！继续加油！';
                emoji = '🥈';
            } else if (accuracy >= 70) {
                grade = '中等，还需多练习！';
                emoji = '🥉';
            } else {
                grade = '需要加强学习！';
                emoji = '💪';
            }
            
            achievementText.innerHTML = `
                ${emoji} 学习完成！<br>
                完成穴位：${shuffledAcupoints.length} 个<br>
                正确回答：${correctCount} 个<br>
                错误回答：${incorrectCount} 个<br>
                正确率：${accuracy}%<br>
                <strong style="color: #ff6b35;">${grade}</strong>
            `;
            
            achievement.classList.add('show');
        }

        function closeAchievement() {
            document.getElementById('achievement').classList.remove('show');
            resetGame();
        }

        // 响应式重新定位穴位
        function repositionAcupoints() {
            initializeGame();
        }

        // 初始化游戏
        document.addEventListener('DOMContentLoaded', function() {
            initializeGame();
            
            // 设置初始信息
            document.getElementById('meridianInfo').innerHTML = 
                '欢迎使用中医穴位学习工具！<br><small>点击"开始学习"按钮开始练习，本工具包含' + 
                acupoints.length + '个重要穴位</small>';
        });

        // 监听窗口大小变化，重新定位穴位
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(repositionAcupoints, 100);
        });

        // 防止双击缩放（移动端）
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // 屏幕方向改变时重新初始化
        window.addEventListener('orientationchange', function() {
            setTimeout(repositionAcupoints, 500);
        });
    </script>
</body>